---
import Layout from '../layouts/Layout.astro';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';
---

<Layout title="GitSy Documentation - User Guide" description="Complete documentation and user guide for GitSy, the Git-based note synchronization app for Android.">
  <Header />
  
  <main>
    <section class="page-hero">
      <div class="container">
        <h1>Documentation</h1>
        <p class="lead">Everything you need to know about using GitSy</p>
      </div>
    </section>

    <section class="documentation">
      <div class="container">
        <div class="docs-layout">
          <nav class="docs-nav">
            <div class="nav-section">
              <h3>Getting Started</h3>
              <ul>
                <li><a href="#installation" class="nav-link">Installation</a></li>
                <li><a href="#setup" class="nav-link">Initial Setup</a></li>
                <li><a href="#first-note" class="nav-link">Creating Your First Note</a></li>
              </ul>
            </div>
            
            <div class="nav-section">
              <h3>Configuration</h3>
              <ul>
                <li><a href="#repositories" class="nav-link">Repository Setup</a></li>
                <li><a href="#authentication" class="nav-link">Authentication</a></li>
                <li><a href="#sync-settings" class="nav-link">Sync Settings</a></li>
              </ul>
            </div>
            
            <div class="nav-section">
              <h3>Features</h3>
              <ul>
                <li><a href="#note-management" class="nav-link">Note Management</a></li>
                <li><a href="#markdown" class="nav-link">Markdown Support</a></li>
                <li><a href="#search" class="nav-link">Search & Organization</a></li>
              </ul>
            </div>
            
            <div class="nav-section">
              <h3>Advanced</h3>
              <ul>
                <li><a href="#conflict-resolution" class="nav-link">Conflict Resolution</a></li>
                <li><a href="#backup" class="nav-link">Backup & Recovery</a></li>
                <li><a href="#troubleshooting" class="nav-link">Troubleshooting</a></li>
              </ul>
            </div>
          </nav>

          <div class="docs-content">
            <section id="installation" class="doc-section">
              <h2>Installation</h2>
              <p>
                GitSy is available for Android devices running Android 7.0 or later. 
                You can install it from the Google Play Store or download the APK directly.
              </p>
              
              <h3>System Requirements</h3>
              <ul>
                <li>Android 7.0+ (API level 24)</li>
                <li>64MB free storage space</li>
                <li>Internet connection for synchronization</li>
                <li>Access to a Git repository (GitHub, GitLab, etc.)</li>
              </ul>
              
              <div class="code-block">
                <h4>Permissions Required</h4>
                <ul>
                  <li><strong>Internet:</strong> For Git synchronization</li>
                  <li><strong>Storage:</strong> For local note storage</li>
                  <li><strong>Network State:</strong> To detect connectivity</li>
                </ul>
              </div>
            </section>

            <section id="setup" class="doc-section">
              <h2>Initial Setup</h2>
              <p>
                After installing GitSy, you'll need to connect it to your Git repository. 
                This is a one-time process that enables synchronization across all your devices.
              </p>
              
              <h3>Step 1: Create a Repository</h3>
              <p>
                First, create a new repository on your preferred Git hosting service:
              </p>
              <ul>
                <li><strong>GitHub:</strong> Go to github.com and create a new repository</li>
                <li><strong>GitLab:</strong> Visit gitlab.com and create a new project</li>
                <li><strong>Self-hosted:</strong> Use your own Git server</li>
              </ul>
              
              <div class="tip-box">
                <h4>üí° Tip</h4>
                <p>Make your repository private to keep your notes secure. GitNotes works with both public and private repositories.</p>
              </div>
              
              <h3>Step 2: Configure GitNotes</h3>
              <p>Open GitSy and follow these steps:</p>
              <ol>
                <li>Tap "Add Repository" on the welcome screen</li>
                <li>Enter your repository URL</li>
                <li>Provide your authentication credentials</li>
                <li>Choose a local folder name</li>
                <li>Tap "Connect" to establish the connection</li>
              </ol>
            </section>

            <section id="first-note" class="doc-section">
              <h2>Creating Your First Note</h2>
              <p>
                Once your repository is connected, you can start creating notes immediately. 
                GitSy uses a simple interface that focuses on your content.
              </p>
              
              <h3>Basic Note Creation</h3>
              <ol>
                <li>Tap the "+" button to create a new note</li>
                <li>Enter a title for your note</li>
                <li>Start typing your content</li>
                <li>GitSy automatically saves your changes</li>
                <li>Sync happens automatically in the background</li>
              </ol>
              
              <div class="warning-box">
                <h4>‚ö†Ô∏è Important</h4>
                <p>Your first sync might take a few moments as GitSy sets up the initial repository structure.</p>
              </div>
            </section>

            <section id="repositories" class="doc-section">
              <h2>Repository Setup</h2>
              <p>
                GitSy supports various Git hosting services and configurations. 
                Here's how to set up repositories for different providers.
              </p>
              
              <h3>GitHub</h3>
              <div class="code-block">
                <p><strong>Repository URL format:</strong></p>
                <code>https://github.com/username/repository-name.git</code>
              </div>
              
              <h3>GitLab</h3>
              <div class="code-block">
                <p><strong>Repository URL format:</strong></p>
                <code>https://gitlab.com/username/repository-name.git</code>
              </div>
              
              <h3>Self-hosted Git</h3>
              <div class="code-block">
                <p><strong>Repository URL format:</strong></p>
                <code>https://your-git-server.com/username/repository-name.git</code>
              </div>
            </section>

            <section id="authentication" class="doc-section">
              <h2>Authentication</h2>
              <p>
                Secure authentication is essential for accessing your Git repository. 
                GitSy supports multiple authentication methods.
              </p>
              
              <h3>Personal Access Token (Recommended)</h3>
              <p>The most secure method is using a personal access token:</p>
              <ol>
                <li>Go to your Git provider's settings</li>
                <li>Generate a new personal access token</li>
                <li>Grant repository read/write permissions</li>
                <li>Copy the token and paste it in GitSy</li>
              </ol>
              
              <h3>Username/Password</h3>
              <p>
                You can also use your regular username and password, but this method 
                is less secure and may not work with all providers.
              </p>
              
              <div class="tip-box">
                <h4>üîí Security Tip</h4>
                <p>Always use personal access tokens instead of passwords. They're more secure and can be easily revoked if needed.</p>
              </div>
            </section>

            <section id="sync-settings" class="doc-section">
              <h2>Sync Settings</h2>
              <p>
                GitSy offers flexible synchronization options to balance between 
                real-time updates and battery life.
              </p>
              
              <h3>Sync Modes</h3>
              <ul>
                <li><strong>Automatic:</strong> Syncs whenever you make changes</li>
                <li><strong>Manual:</strong> Sync only when you tap the sync button</li>
                <li><strong>Scheduled:</strong> Sync at regular intervals</li>
              </ul>
              
              <h3>Sync Frequency</h3>
              <p>When using scheduled sync, you can choose from:</p>
              <ul>
                <li>Every 5 minutes</li>
                <li>Every 15 minutes</li>
                <li>Every hour</li>
                <li>Every 6 hours</li>
                <li>Daily</li>
              </ul>
            </section>

            <section id="note-management" class="doc-section">
              <h2>Note Management</h2>
              <p>
                GitSy provides powerful tools for organizing and managing your notes 
                while keeping the interface clean and simple.
              </p>
              
              <h3>Note Organization</h3>
              <ul>
                <li><strong>Folders:</strong> Organize notes into folders and subfolders</li>
                <li><strong>Tags:</strong> Add tags to notes for easy categorization</li>
                <li><strong>Favorites:</strong> Mark important notes as favorites</li>
                <li><strong>Recent:</strong> Quick access to recently modified notes</li>
              </ul>
              
              <h3>Note Actions</h3>
              <ul>
                <li>Create, edit, and delete notes</li>
                <li>Duplicate notes for templates</li>
                <li>Share notes as text or markdown</li>
                <li>Export notes to other apps</li>
              </ul>
            </section>

            <section id="markdown" class="doc-section">
              <h2>Markdown Support</h2>
              <p>
                GitSy fully supports Markdown formatting, making it easy to create 
                rich, formatted notes that look great on any device.
              </p>
              
              <h3>Supported Markdown Features</h3>
              <div class="code-block">
                <h4>Headers</h4>
                <code># H1<br>## H2<br>### H3</code>
              </div>
              
              <div class="code-block">
                <h4>Text Formatting</h4>
                <code>**Bold text**<br>*Italic text*<br>~~Strikethrough~~</code>
              </div>
              
              <div class="code-block">
                <h4>Lists</h4>
                <code>- Unordered list<br>1. Ordered list<br>- [ ] Task list</code>
              </div>
              
              <div class="code-block">
                <h4>Links and Images</h4>
                <code>[Link text](URL)<br>![Alt text](image-url)</code>
              </div>
            </section>

            <section id="search" class="doc-section">
              <h2>Search & Organization</h2>
              <p>
                Find any note quickly with GitSy's powerful search capabilities 
                and organization features.
              </p>
              
              <h3>Search Features</h3>
              <ul>
                <li><strong>Full-text search:</strong> Search within note content</li>
                <li><strong>Title search:</strong> Find notes by title</li>
                <li><strong>Tag search:</strong> Filter by tags</li>
                <li><strong>Date filters:</strong> Find notes by creation or modification date</li>
              </ul>
              
              <h3>Sorting Options</h3>
              <ul>
                <li>By modification date (newest first)</li>
                <li>By creation date</li>
                <li>Alphabetically by title</li>
                <li>By size</li>
              </ul>
            </section>

            <section id="conflict-resolution" class="doc-section">
              <h2>Conflict Resolution</h2>
              <p>
                When the same note is edited on multiple devices simultaneously, 
                GitSy uses Git's conflict resolution system to handle conflicts gracefully.
              </p>
              
              <h3>How Conflicts Occur</h3>
              <p>
                Conflicts happen when:
              </p>
              <ul>
                <li>The same note is edited on multiple devices</li>
                <li>Changes are made while offline</li>
                <li>Network issues prevent proper synchronization</li>
              </ul>
              
              <h3>Conflict Resolution Process</h3>
              <ol>
                <li>GitSy detects the conflict during sync</li>
                <li>You're presented with both versions of the note</li>
                <li>Choose which version to keep or merge them manually</li>
                <li>The resolved note is saved and synced</li>
              </ol>
              
              <div class="tip-box">
                <h4>üí° Best Practice</h4>
                <p>To minimize conflicts, try to finish editing a note before switching to another device.</p>
              </div>
            </section>

            <section id="backup" class="doc-section">
              <h2>Backup & Recovery</h2>
              <p>
                Your notes are automatically backed up to your Git repository, 
              but GitSy also provides additional backup options for extra security.
              </p>
              
              <h3>Automatic Git Backup</h3>
              <p>
                Every time you sync, your notes are backed up to your Git repository. 
                This means you have:
              </p>
              <ul>
                <li>Complete version history of all changes</li>
                <li>Multiple copies across all connected devices</li>
                <li>Recovery from any point in time</li>
              </ul>
              
              <h3>Manual Export</h3>
              <p>
                You can also export your notes manually:
              </p>
              <ul>
                <li>Export all notes as a ZIP file</li>
                <li>Export individual notes as Markdown files</li>
                <li>Share notes via email or other apps</li>
              </ul>
            </section>

            <section id="troubleshooting" class="doc-section">
              <h2>Troubleshooting</h2>
              <p>
                Common issues and their solutions to help you get the most out of GitNotes.
              </p>
              
              <h3>Sync Issues</h3>
              <div class="troubleshoot-item">
                <h4>Problem: Notes not syncing</h4>
                <p><strong>Solutions:</strong></p>
                <ul>
                  <li>Check your internet connection</li>
                  <li>Verify repository credentials</li>
                  <li>Try manual sync</li>
                  <li>Restart the app</li>
                </ul>
              </div>
              
              <div class="troubleshoot-item">
                <h4>Problem: Authentication failed</h4>
                <p><strong>Solutions:</strong></p>
                <ul>
                  <li>Check if your token has expired</li>
                  <li>Verify token permissions</li>
                  <li>Try re-entering credentials</li>
                  <li>Check repository URL format</li>
                </ul>
              </div>
              
              <div class="troubleshoot-item">
                <h4>Problem: App crashes or freezes</h4>
                <p><strong>Solutions:</strong></p>
                <ul>
                  <li>Update to the latest version</li>
                  <li>Clear app cache</li>
                  <li>Restart your device</li>
                  <li>Check available storage space</li>
                </ul>
              </div>
              
              <div class="help-box">
                <h4>Need More Help?</h4>
                <p>
                  If you're still experiencing issues, please visit our 
                  <a href="/contact">Contact page</a> to get in touch with our support team.
                </p>
              </div>
            </section>
          </div>
        </div>
      </div>
    </section>
  </main>

  <Footer />
</Layout>

<style>
  .page-hero {
    padding: 3rem 0;
    background: #f8fafc;
    text-align: center;
  }

  .page-hero h1 {
    margin-bottom: 1rem;
  }

  .lead {
    font-size: 1.25rem;
    color: #6b7280;
    margin: 0;
  }

  .documentation {
    padding: 4rem 0;
  }

  .docs-layout {
    display: grid;
    grid-template-columns: 250px 1fr;
    gap: 3rem;
  }

  .docs-nav {
    position: sticky;
    top: 100px;
    height: fit-content;
    background: white;
    padding: 2rem;
    border-radius: 1rem;
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
  }

  .nav-section {
    margin-bottom: 2rem;
  }

  .nav-section:last-child {
    margin-bottom: 0;
  }

  .nav-section h3 {
    color: #111827;
    font-size: 1rem;
    margin-bottom: 1rem;
  }

  .nav-section ul {
    list-style: none;
    padding: 0;
  }

  .nav-section li {
    margin-bottom: 0.5rem;
  }

  .nav-link {
    color: #6b7280;
    font-size: 0.875rem;
    text-decoration: none;
    transition: color 0.2s ease;
  }

  .nav-link:hover {
    color: #2563eb;
  }

  .docs-content {
    max-width: none;
  }

  .doc-section {
    margin-bottom: 4rem;
    scroll-margin-top: 100px;
  }

  .doc-section h2 {
    color: #111827;
    margin-bottom: 1rem;
    padding-bottom: 0.5rem;
    border-bottom: 2px solid #e5e7eb;
  }

  .doc-section h3 {
    color: #374151;
    margin-top: 2rem;
    margin-bottom: 1rem;
  }

  .doc-section h3:first-of-type {
    margin-top: 1rem;
  }

  .doc-section h4 {
    color: #4b5563;
    margin-top: 1.5rem;
    margin-bottom: 0.5rem;
  }

  .doc-section ul,
  .doc-section ol {
    margin-bottom: 1rem;
    padding-left: 1.5rem;
  }

  .doc-section li {
    margin-bottom: 0.5rem;
    color: #374151;
  }

  .code-block {
    background: #f8fafc;
    border: 1px solid #e2e8f0;
    border-radius: 0.5rem;
    padding: 1.5rem;
    margin: 1.5rem 0;
  }

  .code-block h4 {
    margin-top: 0;
    margin-bottom: 1rem;
    color: #374151;
  }

  .code-block code {
    font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
    font-size: 0.875rem;
    line-height: 1.6;
    color: #1f2937;
  }

  .tip-box,
  .warning-box,
  .help-box {
    padding: 1.5rem;
    border-radius: 0.5rem;
    margin: 1.5rem 0;
  }

  .tip-box {
    background: #f0f9ff;
    border-left: 4px solid #0ea5e9;
  }

  .warning-box {
    background: #fffbeb;
    border-left: 4px solid #f59e0b;
  }

  .help-box {
    background: #f0fdf4;
    border-left: 4px solid #10b981;
  }

  .tip-box h4,
  .warning-box h4,
  .help-box h4 {
    margin-top: 0;
    margin-bottom: 0.75rem;
  }

  .tip-box p,
  .warning-box p,
  .help-box p {
    margin-bottom: 0;
  }

  .troubleshoot-item {
    background: white;
    border: 1px solid #e5e7eb;
    border-radius: 0.75rem;
    padding: 1.5rem;
    margin-bottom: 1.5rem;
  }

  .troubleshoot-item h4 {
    color: #dc2626;
    margin-top: 0;
    margin-bottom: 1rem;
  }

  .troubleshoot-item p {
    margin-bottom: 0.5rem;
  }

  .troubleshoot-item ul {
    margin-bottom: 0;
  }

  @media (max-width: 1024px) {
    .docs-layout {
      grid-template-columns: 1fr;
      gap: 2rem;
    }

    .docs-nav {
      position: static;
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 1rem;
      padding: 1.5rem;
    }

    .nav-section {
      margin-bottom: 0;
    }
  }

  @media (max-width: 768px) {
    .docs-nav {
      grid-template-columns: 1fr;
    }

    .code-block {
      padding: 1rem;
    }

    .code-block code {
      font-size: 0.8rem;
    }
  }
</style>

<script>
  document.addEventListener('DOMContentLoaded', () => {
    // Smooth scrolling for navigation links
    const navLinks = document.querySelectorAll('.nav-link');
    
    navLinks.forEach(link => {
      link.addEventListener('click', (e) => {
        e.preventDefault();
        const targetId = link.getAttribute('href').substring(1);
        const targetElement = document.getElementById(targetId);
        
        if (targetElement) {
          targetElement.scrollIntoView({
            behavior: 'smooth',
            block: 'start'
          });
        }
      });
    });
  });
</script>